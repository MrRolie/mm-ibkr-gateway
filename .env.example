# =============================================================================
# SAFETY SETTINGS (READ THIS FIRST!)
# =============================================================================
# This system is SAFE BY DEFAULT. Orders are DISABLED until you explicitly
# enable them. Paper trading mode is the default.
#
# DO NOT change these settings unless you fully understand the implications.
# =============================================================================

# Trading mode: paper = simulated, live = REAL MONEY
# Default: paper (RECOMMENDED)
TRADING_MODE=paper

# Order placement: false = disabled, true = ENABLED (DANGEROUS in live mode)
# Default: false (RECOMMENDED)
ORDERS_ENABLED=false

# Live trading override (required for live trading with orders enabled)
# Create this file ONLY after reading all safety documentation
# Example: touch ~/ibkr_live_trading_confirmed.txt
LIVE_TRADING_OVERRIDE_FILE=

# Daily stop tasks (true = create stop tasks; false = keep gateway/API running)
STOP_TASKS_ENABLED=false
# Daily gateway start task (false = rely on watchdog/boot reconcile; true = create start task)
START_GATEWAY_TASK_ENABLED=false
# Enable/disable IBAutomater Java agent for UI automation
IB_AUTOMATER_ENABLED=true

# =============================================================================
# CONNECTION SETTINGS
# =============================================================================

# IBKR Gateway / TWS Connection
IBKR_GATEWAY_HOST=127.0.0.1

# Paper Trading Connection (default: port 4002, client_id 1)
PAPER_GATEWAY_PORT=4002
PAPER_CLIENT_ID=1

# Live Trading Connection (default: port 4001, client_id 777)
LIVE_GATEWAY_PORT=4001
LIVE_CLIENT_ID=777

# =============================================================================
# API SERVER SETTINGS
# =============================================================================

API_PORT=8000

# API bind host - set to LAN IP for remote access (e.g., from Raspberry Pi)
# Default: 127.0.0.1 (localhost only)
# Example: 192.168.1.100 (specific LAN IP)
# API_BIND_HOST=127.0.0.1

# Optional request timeout in seconds (default: 30.0)
# API_REQUEST_TIMEOUT=30.0

# Optional API auth (leave unset to disable authentication)
# API_KEY=your-secret-key

# =============================================================================
# TIME WINDOW SETTINGS (for scheduled operation)
# =============================================================================

# Services will only run during this window
# Format: HH:MM (24-hour)
# RUN_WINDOW_START=04:00
# RUN_WINDOW_END=20:00

# Active days (comma-separated abbreviations)
# RUN_WINDOW_DAYS=Mon,Tue,Wed,Thu,Fri

# Timezone for schedule calculations
# RUN_WINDOW_TIMEZONE=America/Toronto

# =============================================================================
# PATH SETTINGS (for Windows deployment)
# =============================================================================

# Google Drive base path for logs and audit database
# GDRIVE_BASE_PATH=G:\My Drive\Coding Projects\trading

# Log file directory (defaults to GDRIVE_BASE_PATH/logs if not set)
# LOG_FILE_PATH=

# Arm file path - must exist to place orders when ORDERS_ENABLED=true
# Additional safety layer for production deployments
# ARM_ORDERS_FILE=

# Pi IP address (for firewall configuration)
# PI_IP=192.168.1.50

# IBKR Gateway installation path
# IBKR_GATEWAY_PATH=C:\Jts\ibgateway\1030

# Optional: IBKR credentials for IBAutomater (otherwise loaded from secrets/ibkr_credentials.json)
# IBKR_USERNAME=
# IBKR_PASSWORD=

# =============================================================================
# LOGGING & AUDIT SETTINGS (Phase 8)
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
LOG_LEVEL=INFO

# Log format: json or text (default: json)
# json = structured JSON logs with correlation IDs
# text = human-readable text logs (for development)
LOG_FORMAT=json

# Audit database path (default: ./data/audit.db)
# This SQLite database stores:
# - Audit log: All order events with correlation IDs
# - Order history: Complete order lifecycle tracking
AUDIT_DB_PATH=./data/audit.db

# =============================================================================
# SIMULATION MODE (Phase 8)
# =============================================================================

# IBKR client mode override: paper, live, or simulation
# simulation = Use in-memory simulated client (no IBKR Gateway needed)
# When set to "simulation", all IBKR operations use synthetic data
# Useful for: unit tests, CI/CD, development without IBKR Gateway
# Default: uses TRADING_MODE value (paper/live)
# IBKR_MODE=simulation
